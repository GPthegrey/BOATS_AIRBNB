<div class='d-flex justify-content-between'>
  <%= link_to 'Home', root_path, class: 'btn btn-success my-3' %>
  <%= link_to 'Back to my boats', myboats_path, class: 'btn btn-primary my-3' if current_user == @boat.user%>
</div>

<div class="row my-3">
  <div class="col-md-12">
    <h1><%= @boat.name %></h1>
    <% @boat.photos.each do |photo| %>
      <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill, class: 'img-fluid rounded' %>
    <% end %>
    <p><strong>Description: </strong><%= @boat.description %></p>
    <p><strong>Price: </strong><%= @boat.price %></p>
    <p><strong>Address: </strong><%= @boat.address %></p>
  </div>
</div>

<% if current_user == @boat.user %>
    <%if @boat.available == false  %>
    <p class='text-danger'><strong>Suspended, not available in the platform</strong></p>
    <% end %>
    <div class='d-flex'>
    <%= link_to 'Edit', edit_boat_path(@boat), class: "btn btn-outline-info btn-sm" %>
    <%= form_for @boat, url: suspend_boat_path(@boat), method: :patch, class: "d-inline" do |f| %>
    <%= f.button type: "submit", class: "btn btn-outline-warning btn-sm", data: { confirm: "Are you sure you want to suspend this boat?" } do %>
      Suspend/reactivate
    <% end %>
    <%= link_to "Delete", delete_my_boat_path(@boat), class: "btn btn-outline-danger btn-sm", data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
    <% end %>
  </div>
<% else %>
  <%= simple_form_for @rental, html: { class: 'my-3' } do |f| %>
    <div class="form-row">
      <div class="form-group col-md-6">
        <%= f.input :start_time,
              as: :string,
              input_html: { data: { controller: "datepicker" } } %>
      </div>
      <div class="form-group col-md-6">
        <%= f.input :end_time,
              as: :string,
              input_html: { data: { controller: "datepicker" } } %>
      </div>
    </div>
    <%= f.hidden_field :boat_id, value: @boat.id %>
    <%= f.button :submit, 'Book', class: 'btn btn-primary' %>
  <% end %>
<% end %>
